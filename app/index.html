<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ML Roadmap for FAANG - 20 Week Study Plan</title>

        <!-- SEO Meta Tags -->
        <meta name="description"
            content="A 20-week interactive roadmap to master Machine Learning for FAANG interviews, with AI-powered assistance and progress tracking.">
        <meta name="keywords"
            content="Machine Learning, FAANG, interview preparation, study plan, roadmap, AI, data science, deep learning">

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://example.com/">
        <meta property="og:title" content="ML Roadmap for FAANG - 20 Week Study Plan">
        <meta property="og:description"
            content="A 20-week interactive roadmap to master Machine Learning for FAANG interviews, with AI-powered assistance and progress tracking.">
        <meta property="og:image" content="https://example.com/og-image.png">

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://example.com/">
        <meta property="twitter:title" content="ML Roadmap for FAANG - 20 Week Study Plan">
        <meta property="twitter:description"
            content="A 20-week interactive roadmap to master Machine Learning for FAANG interviews, with AI-powered assistance and progress tracking.">
        <meta property="twitter:image" content="https://example.com/twitter-image.png">

        <!-- PWA Meta Tags -->
        <meta name="theme-color" content="#667eea">
        <link rel="manifest"
            href="data:application/json;base64,eyJuYW1lIjoiTUwtRkFBTkcgUm9hZG1hcCIsInNob3J0X25hbWUiOiJNTC1GQUFORSISINN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjZjhmOWZhIiwidGhlbWVfY29sb3IiOiIjNjY3ZWVhIiwiaWNvbnMiOlt7InNyYyI6ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0S1BITjJaeUIzYVdSMGFEMGlNVEkySWlCb1pXbG5hSFE5SWpFeU5pSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjJhV1YzUW05NE9URWFjSE5xY0d0YjZPMTNCNUhDWWxtSUFHNVpwVEJOL1hVYjhlVVRJN3hkQjZQaDJjU1V0ZGNTSmc0Z2dGTUE1VzZNK21FdVptWWhUME5aN0pxQ0I4V0k1cTFTckJqVkl6ZUZTWlN3MjNMcW5lNzRjTFI1TlJNZml3eU5wVUh1SjhFN3B4S2NVWFcwZnZSb3psUldCdml6dmJ6c0xOOEs1Q0puJmJydGNUemJhQmt3cHVMcnFkU0lEREE9PSIsInNpemVzIjoiMTI4eDEyOCIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dfQ==">

        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" href="style.css">

        <script src="script.js"></script>
        <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    </head>

    <body class="bg-gray-50 min-h-screen" x-data="roadmapApp()">
        <!-- Loading State -->
        <div x-show="loading" class="fixed inset-0 bg-white flex items-center justify-center z-50">
            <div class="text-center">
                <div class="loading-spinner w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mb-4">
                </div>
                <p class="text-gray-600">Loading your roadmap...</p>
            </div>
        </div>

        <!-- Main Content -->
        <div x-show="!loading && !error" class="fade-in">
            <!-- Enhanced Header with Navigation -->
            <header class="gradient-bg text-white shadow-lg">
                <h1 class="sr-only">AI-Enhanced ML-FAANG Mastery Plan</h1>
                <div class="container mx-auto px-4 py-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <h1 class="text-3xl font-bold flex items-center">
                                <i class="fas fa-robot mr-3"></i>
                                <span
                                    x-text="roadmapData?.metadata?.title || 'AI-Enhanced ML-FAANG Mastery Plan'"></span>
                            </h1>
                            <p class="text-blue-100 mt-2"
                                x-text="roadmapData?.metadata?.description || '20-Week Transformation Journey'"></p>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold" x-text="Math.round(overallProgress) + '%'"></div>
                            <div class="text-blue-100">Overall Progress</div>
                            <!-- Export/Import buttons -->
                            <div class="flex gap-2 mt-2">
                                <button @click="exportProgress()"
                                    class="text-xs bg-white/20 hover:bg-white/30 px-3 py-1 rounded transition-colors">
                                    <i class="fas fa-download mr-1"></i>Export
                                </button>
                                <button @click="triggerImport()"
                                    class="text-xs bg-white/20 hover:bg-white/30 px-3 py-1 rounded transition-colors">
                                    <i class="fas fa-upload mr-1"></i>Import
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Tabs -->
                    <div class="flex flex-wrap gap-2 mt-6">
                        <button @click="activeTab = 'overview'"
                            :class="activeTab === 'overview' ? 'bg-white/20' : 'bg-white/10'"
                            class="px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-home mr-2"></i>Overview
                        </button>
                        <button @click="activeTab = 'analytics'"
                            :class="activeTab === 'analytics' ? 'bg-white/20' : 'bg-white/10'"
                            class="px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-chart-line mr-2"></i>Analytics
                        </button>
                        <button @click="activeTab = 'calendar'"
                            :class="activeTab === 'calendar' ? 'bg-white/20' : 'bg-white/10'"
                            class="px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-calendar mr-2"></i>Calendar
                        </button>
                        <button @click="activeTab = 'roadmap'"
                            :class="activeTab === 'roadmap' ? 'bg-white/20' : 'bg-white/10'"
                            class="px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-route mr-2"></i>Weekly Plan
                        </button>
                    </div>
                </div>
            </header>

            <main class="container mx-auto px-4 py-8">

                <!-- Analytics Tab -->
                <div x-show="activeTab === 'analytics'" class="space-y-8">
                    <h2 class="text-3xl font-bold mb-6 flex items-center">
                        <i class="fas fa-chart-line mr-3 text-blue-600"></i>
                        Learning Analytics Dashboard
                    </h2>

                    <!-- Key Metrics Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex items-center">
                                <div class="p-3 bg-blue-100 rounded-full">
                                    <i class="fas fa-calendar-check text-blue-600"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-500">Study Days</h4>
                                    <p class="text-2xl font-bold text-gray-900" x-text="getStudyDaysCount()"></p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex items-center">
                                <div class="p-3 bg-green-100 rounded-full">
                                    <i class="fas fa-clock text-green-600"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-500">Total Hours</h4>
                                    <p class="text-2xl font-bold text-gray-900" x-text="getTotalStudyHours() + 'h'"></p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex items-center">
                                <div class="p-3 bg-purple-100 rounded-full">
                                    <i class="fas fa-tasks text-purple-600"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-500">Completed Sessions</h4>
                                    <p class="text-2xl font-bold text-gray-900"
                                        x-text="Object.keys(sessionCompletions).length"></p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex items-center">
                                <div class="p-3 bg-yellow-100 rounded-full">
                                    <i class="fas fa-trophy text-yellow-600"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-sm font-medium text-gray-500">Current Streak</h4>
                                    <p class="text-2xl font-bold text-gray-900" x-text="getCurrentStreak() + ' days'">
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Progress Over Time Chart -->
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <h3 class="text-xl font-semibold mb-4">Progress Over Time</h3>
                            <div class="chart-container">
                                <canvas id="progressChart"></canvas>
                            </div>
                        </div>

                        <!-- Study Time Distribution -->
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <h3 class="text-xl font-semibold mb-4">Study Time by Phase</h3>
                            <div class="chart-container">
                                <canvas id="timeChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Weekly Completion Heatmap -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4">Weekly Completion Status</h3>
                        <div class="grid weekly-grid grid-cols-4 md:grid-cols-10 gap-2">
                            <template x-for="week in Array.from({length: totalWeeks}, (_, i) => i + 1)" :key="week">
                                <div class="aspect-square rounded-lg border-2 transition-all cursor-pointer"
                                    :class="getWeekCompletionClass(week)"
                                    @click="currentWeek = week; activeTab = 'roadmap'"
                                    :title="'Week ' + week + ': ' + getWeekCompletionStatus(week)">
                                    <div class="w-full h-full flex items-center justify-center text-xs font-medium">
                                        <span x-text="week"></span>
                                    </div>
                                </div>
                            </template>
                        </div>
                        <div class="flex items-center justify-center gap-4 mt-4 text-sm">
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-gray-100 border-2 border-gray-300 rounded"></div>
                                <span>Not Started</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-yellow-100 border-2 border-yellow-300 rounded"></div>
                                <span>In Progress</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-green-100 border-2 border-green-500 rounded"></div>
                                <span>Completed</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calendar Tab -->
                <div x-show="activeTab === 'calendar'" class="space-y-8">
                    <div class="flex items-center justify-between">
                        <h2 class="text-3xl font-bold flex items-center">
                            <i class="fas fa-calendar mr-3 text-blue-600"></i>
                            Study Calendar
                        </h2>
                        <div class="flex items-center gap-4">
                            <button @click="navigateMonth(-1)"
                                class="p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <h3 class="text-xl font-semibold" x-text="getCurrentMonthYear()"></h3>
                            <button @click="navigateMonth(1)"
                                class="p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Calendar Grid -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <div class="calendar-grid">
                            <!-- Weekday headers -->
                            <template x-for="day in ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']">
                                <div class="p-4 bg-gray-100 text-center font-semibold text-gray-700" x-text="day"></div>
                            </template>

                            <!-- Calendar days -->
                            <template x-for="day in getCalendarDays()" :key="day.date">
                                <div class="calendar-day" :class="getCalendarDayClass(day)"
                                    @click="selectCalendarDay(day)">
                                    <div class="text-sm font-medium" x-text="day.day"></div>
                                    <div class="text-xs mt-1">
                                        <template x-for="session in day.sessions" :key="session.id">
                                            <div class="w-2 h-2 rounded-full bg-blue-500 mb-1"
                                                :class="isSessionCompleted(session.id) ? 'bg-green-500' : 'bg-blue-500'">
                                            </div>
                                        </template>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>

                    <!-- Selected Day Details -->
                    <div x-show="selectedCalendarDay" class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-4" x-text="getSelectedDate()"></h3>
                        <div x-show="selectedCalendarDay.sessions.length > 0">
                            <ul>
                                <template x-for="session in selectedCalendarDay.sessions" :key="session.id">
                                    <li class="flex items-center justify-between p-2 rounded-lg"
                                        :class="isSessionCompleted(session.id) ? 'bg-green-50' : ''">
                                        <span x-text="session.topic"></span>
                                        <button @click="toggleSessionCompletion(session.id)"
                                            class="px-3 py-1 text-sm rounded-full"
                                            :class="isSessionCompleted(session.id) ? 'bg-green-200 text-green-800' : 'bg-gray-200 text-gray-800'">
                                            <span x-show="isSessionCompleted(session.id)">Completed</span>
                                            <span x-show="!isSessionCompleted(session.id)">Mark Done</span>
                                        </button>
                                    </li>
                                </template>
                            </ul>
                        </div>
                        <div x-show="selectedCalendarDay.sessions.length === 0">
                            <p class="text-gray-500">No study sessions scheduled for this day.</p>
                        </div>
                    </div>
                </div>

                <!-- Overview Tab -->
                <div x-show="activeTab === 'overview'" class="space-y-8">
                    <h2 class="text-3xl font-bold mb-6 flex items-center">
                        <i class="fas fa-home mr-3 text-blue-600"></i>
                        Roadmap Overview
                    </h2>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <p class="text-gray-700 leading-relaxed" x-text="roadmapData?.metadata?.description"></p>
                        <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="text-center p-4 bg-blue-50 rounded-lg">
                                <div class="text-2xl font-bold text-blue-600"
                                    x-text="roadmapData?.metadata?.total_weeks || '20'"></div>
                                <div class="text-sm text-gray-600">Total Weeks</div>
                            </div>
                            <div class="text-center p-4 bg-purple-50 rounded-lg">
                                <div class="text-2xl font-bold text-purple-600"
                                    x-text="roadmapData?.metadata?.total_phases || '5'"></div>
                                <div class="text-sm text-gray-600">Learning Phases</div>
                            </div>
                            <div class="text-center p-4 bg-green-50 rounded-lg">
                                <div class="text-2xl font-bold text-green-600"
                                    x-text="Math.round(overallProgress) + '%'"></div>
                                <div class="text-sm text-gray-600">Progress</div>
                            </div>
                        </div>
                        <div class="mt-6" x-show="phases.length > 0">
                            <h4 class="text-lg font-semibold mb-3">Learning Phases</h4>
                            <div class="space-y-3">
                                <template x-for="phase in phases" :key="phase.number">
                                    <div class="border rounded-lg p-4 hover:bg-gray-50 transition">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <h5 class="font-medium"
                                                    x-text="'Phase ' + phase.number + ': ' + phase.name"></h5>
                                                <p class="text-sm text-gray-600 mt-1" x-text="phase.description"></p>
                                                <div class="mt-2 flex flex-wrap gap-1">
                                                    <template x-for="area in phase.focus_areas" :key="area">
                                                        <span
                                                            class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full"
                                                            x-text="area"></span>
                                                    </template>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <div class="text-sm font-medium"
                                                    x-text="Math.round(getPhaseProgress(phase.number)) + '%'"></div>
                                                <div class="text-xs text-gray-500">Complete</div>
                                            </div>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Roadmap Tab -->
                <div x-show="activeTab === 'roadmap'" class="space-y-8">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold flex items-center">
                            <i class="fas fa-route mr-3 text-blue-600"></i>
                            Weekly Study Plan
                        </h2>
                        <!-- Week navigation -->
                        <div class="flex items-center gap-2">
                            <button @click="currentWeek = Math.max(1, currentWeek - 1)"
                                class="bg-white p-2 rounded-full shadow-md hover:bg-gray-100 transition">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <span class="text-lg font-semibold" x-text="'Week ' + currentWeek"></span>
                            <button @click="currentWeek = Math.min(totalWeeks, currentWeek + 1)"
                                class="bg-white p-2 rounded-full shadow-md hover:bg-gray-100 transition">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Weekly Details -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <template x-if="roadmapData && roadmapData.weeks && roadmapData.weeks[currentWeek.toString()]">
                            <div>
                                <h3 class="text-2xl font-bold mb-2"
                                    x-text="roadmapData.weeks[currentWeek.toString()].title"></h3>
                                <div class="flex items-center text-gray-500 mb-4">
                                    <i class="fas fa-bullseye mr-2"></i>
                                    <p>Objectives:</p>
                                </div>
                                <ul class="list-disc list-inside space-y-2 mb-6">
                                    <template
                                        x-for="objective in roadmapData.weeks[currentWeek.toString()].objectives || []"
                                        :key="objective">
                                        <li x-text="objective"></li>
                                    </template>
                                </ul>

                                <!-- Daily Schedule -->
                                <div class="space-y-6"
                                    x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule">
                                    <template
                                        x-for="day in Object.keys(roadmapData.weeks[currentWeek.toString()].daily_schedule || {}).filter(d => d !== 'weekend_sessions')"
                                        :key="day">
                                        <div class="p-4 rounded-lg"
                                            :class="day.toLowerCase() === new Date().toLocaleString('en-us', {  weekday: 'long' }).toLowerCase() ? 'bg-blue-50 border-l-4 border-blue-500' : 'bg-gray-50'">
                                            <h4 class="text-xl font-semibold capitalize mb-4" x-text="day"></h4>
                                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                                <!-- Morning Session -->
                                                <div class="bg-yellow-100 p-4 rounded-lg"
                                                    x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].morning_session">
                                                    <h5 class="font-bold text-yellow-800">
                                                        <i class="fas fa-sun mr-2"></i>Morning Session
                                                    </h5>
                                                    <p class="text-sm text-yellow-600"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].morning_session?.time || ''">
                                                    </p>
                                                    <p class="font-semibold mt-2"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].morning_session?.title || ''">
                                                    </p>
                                                    <ul class="list-disc list-inside text-sm mt-2">
                                                        <template
                                                            x-for="activity in roadmapData.weeks[currentWeek.toString()].daily_schedule[day].morning_session?.activities || []"
                                                            :key="activity">
                                                            <li x-text="activity"></li>
                                                        </template>
                                                    </ul>
                                                </div>

                                                <!-- Coding Session -->
                                                <div class="bg-blue-100 p-4 rounded-lg"
                                                    x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].coding_session">
                                                    <h5 class="font-bold text-blue-800">
                                                        <i class="fas fa-code mr-2"></i>Coding Session
                                                    </h5>
                                                    <p class="text-sm text-blue-600"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].coding_session?.time || ''">
                                                    </p>
                                                    <p class="font-semibold mt-2"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].coding_session?.title || ''">
                                                    </p>
                                                    <ul class="space-y-2 mt-2">
                                                        <template
                                                            x-for="problem in roadmapData.weeks[currentWeek.toString()].daily_schedule[day].coding_session?.problems || []"
                                                            :key="problem.name">
                                                            <li class="text-sm cursor-pointer hover:bg-blue-200 p-2 rounded"
                                                                @click="selectedProblem = problem">
                                                                <span
                                                                    :class="{ 'bg-green-200': problem.difficulty === 'Easy', 'bg-yellow-200': problem.difficulty === 'Medium', 'bg-red-200': problem.difficulty === 'Hard' }"
                                                                    class="px-2 py-1 rounded-full text-xs"
                                                                    x-text="problem.difficulty"></span>
                                                                <span class="ml-2" x-text="problem.name"></span>
                                                            </li>
                                                        </template>
                                                    </ul>
                                                </div>

                                                <!-- Evening Session -->
                                                <div class="bg-purple-100 p-4 rounded-lg"
                                                    x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].evening_session">
                                                    <h5 class="font-bold text-purple-800">
                                                        <i class="fas fa-moon mr-2"></i>Evening Session
                                                    </h5>
                                                    <p class="text-sm text-purple-600"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].evening_session?.time || ''">
                                                    </p>
                                                    <p class="font-semibold mt-2"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule[day].evening_session?.title || ''">
                                                    </p>
                                                    <ul class="list-disc list-inside text-sm mt-2">
                                                        <template
                                                            x-for="activity in roadmapData.weeks[currentWeek.toString()].daily_schedule[day].evening_session?.activities || []"
                                                            :key="activity">
                                                            <li x-text="activity"></li>
                                                        </template>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </template>

                                    <!-- Weekend Sessions -->
                                    <div class="p-4 rounded-lg bg-gray-50"
                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule?.weekend_sessions">
                                        <h4 class="text-xl font-semibold capitalize mb-4">Weekend Sessions</h4>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <!-- Saturday Session -->
                                            <template
                                                x-if="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions?.saturday">
                                                <div class="bg-orange-100 p-4 rounded-lg">
                                                    <h5 class="font-bold text-orange-800">
                                                        <i class="fas fa-calendar-day mr-2"></i>Saturday
                                                    </h5>
                                                    <h6 class="font-semibold mt-2"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.title">
                                                    </h6>
                                                    <p class="text-sm text-orange-600 mt-1"
                                                        x-text="(roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.duration || 0) + ' minutes'">
                                                    </p>
                                                    <p class="text-sm mt-2"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.description || ''">
                                                    </p>
                                                    <div class="mt-3"
                                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.focus_areas">
                                                        <h6 class="font-semibold text-sm">Focus Areas:</h6>
                                                        <div class="flex flex-wrap gap-1 mt-1">
                                                            <template
                                                                x-for="area in roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.focus_areas || []"
                                                                :key="area">
                                                                <span
                                                                    class="bg-orange-200 text-orange-800 px-2 py-1 rounded-full text-xs"
                                                                    x-text="area"></span>
                                                            </template>
                                                        </div>
                                                    </div>
                                                    <div class="mt-3"
                                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.tasks">
                                                        <h6 class="font-semibold text-sm">Tasks:</h6>
                                                        <ul class="list-disc list-inside text-xs mt-1 space-y-1">
                                                            <template
                                                                x-for="task in roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.tasks || []"
                                                                :key="task">
                                                                <li x-text="task"></li>
                                                            </template>
                                                        </ul>
                                                    </div>
                                                    <div class="mt-3"
                                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.problems">
                                                        <h6 class="font-semibold text-sm">Problems:</h6>
                                                        <ul class="space-y-2 mt-2">
                                                            <template
                                                                x-for="problem in roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.problems || []"
                                                                :key="problem.name">
                                                                <li class="text-sm cursor-pointer hover:bg-blue-200 p-2 rounded"
                                                                    @click="selectedProblem = problem">
                                                                    <span
                                                                        :class="{ 'bg-green-200': problem.difficulty === 'Easy', 'bg-yellow-200': problem.difficulty === 'Medium', 'bg-red-200': problem.difficulty === 'Hard' }"
                                                                        class="px-2 py-1 rounded-full text-xs"
                                                                        x-text="problem.difficulty"></span>
                                                                    <a :href="problem.leetcode_url || (problem.link && problem.link !== '#' ? problem.link : ('https://www.google.com/search?q=' + encodeURIComponent(problem.name)))"
                                                                        target="_blank"
                                                                        class="ml-2 text-blue-700 hover:underline"
                                                                        x-text="problem.name"></a>
                                                                </li>
                                                            </template>
                                                        </ul>
                                                    </div>
                                                    <p class="text-xs mt-3"
                                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.deliverable">
                                                        <strong>Deliverable:</strong> <span
                                                            x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.saturday.deliverable"></span>
                                                    </p>
                                                </div>
                                            </template>

                                            <!-- Sunday Session -->
                                            <template
                                                x-if="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions?.sunday">
                                                <div class="bg-indigo-100 p-4 rounded-lg">
                                                    <h5 class="font-bold text-indigo-800">
                                                        <i class="fas fa-calendar-day mr-2"></i>Sunday
                                                    </h5>
                                                    <h6 class="font-semibold mt-2"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.title">
                                                    </h6>
                                                    <p class="text-sm text-indigo-600 mt-1"
                                                        x-text="(roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.duration || 0) + ' minutes'">
                                                    </p>
                                                    <p class="text-sm mt-2"
                                                        x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.description || ''">
                                                    </p>
                                                    <div class="mt-3"
                                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.focus_areas">
                                                        <h6 class="font-semibold text-sm">Focus Areas:</h6>
                                                        <div class="flex flex-wrap gap-1 mt-1">
                                                            <template
                                                                x-for="area in roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.focus_areas || []"
                                                                :key="area">
                                                                <span
                                                                    class="bg-indigo-200 text-indigo-800 px-2 py-1 rounded-full text-xs"
                                                                    x-text="area"></span>
                                                            </template>
                                                        </div>
                                                    </div>
                                                    <div class="mt-3"
                                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.tasks">
                                                        <h6 class="font-semibold text-sm">Tasks:</h6>
                                                        <ul class="list-disc list-inside text-xs mt-1 space-y-1">
                                                            <template
                                                                x-for="task in roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.tasks || []"
                                                                :key="task">
                                                                <li x-text="task"></li>
                                                            </template>
                                                        </ul>
                                                    </div>
                                                    <div class="mt-3"
                                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.problems">
                                                        <h6 class="font-semibold text-sm">Problems:</h6>
                                                        <ul class="space-y-2 mt-2">
                                                            <template
                                                                x-for="problem in roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.problems || []"
                                                                :key="problem.name">
                                                                <li class="text-sm cursor-pointer hover:bg-blue-200 p-2 rounded"
                                                                    @click="selectedProblem = problem">
                                                                    <span
                                                                        :class="{ 'bg-green-200': problem.difficulty === 'Easy', 'bg-yellow-200': problem.difficulty === 'Medium', 'bg-red-200': problem.difficulty === 'Hard' }"
                                                                        class="px-2 py-1 rounded-full text-xs"
                                                                        x-text="problem.difficulty"></span>
                                                                    <a :href="problem.leetcode_url || (problem.link && problem.link !== '#' ? problem.link : ('https://www.google.com/search?q=' + encodeURIComponent(problem.name)))"
                                                                        target="_blank"
                                                                        class="ml-2 text-blue-700 hover:underline"
                                                                        x-text="problem.name"></a>
                                                                </li>
                                                            </template>
                                                        </ul>
                                                    </div>
                                                    <p class="text-xs mt-3"
                                                        x-show="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.deliverable">
                                                        <strong>Deliverable:</strong> <span
                                                            x-text="roadmapData.weeks[currentWeek.toString()].daily_schedule.weekend_sessions.sunday.deliverable"></span>
                                                    </p>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </template>

                        <!-- Fallback when no week data -->
                        <template
                            x-if="!roadmapData || !roadmapData.weeks || !roadmapData.weeks[currentWeek.toString()]">
                            <div class="text-center py-8">
                                <p class="text-gray-500">Week data not available. Please check your roadmap
                                    configuration.</p>
                            </div>
                        </template>
                    </div>
                </div>
            </main>
        </div>

        <!-- Error State -->
        <div x-show="error" class="fixed inset-0 bg-white flex items-center justify-center z-50">
            <div class="text-center max-w-md">
                <div class="text-red-500 text-6xl mb-4">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Unable to Load Roadmap</h2>
                <p class="text-gray-600 mb-6" x-text="errorMessage"></p>
                <button @click="loadRoadmapData()"
                    class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                    Try Again
                </button>
            </div>
        </div>

        <input type="file" id="import-file" class="hidden" @change="importProgress($event)">

        <!-- AI Prompt Modal -->
        <div x-show="showAIPrompt" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-xl p-8 max-w-lg w-full">
                <h2 class="text-2xl font-bold mb-4">AI-Powered Setup</h2>
                <p class="text-gray-600 mb-6">To personalize your roadmap, please paste your learning goals or job
                    description below.</p>
                <textarea x-model="aiSetupPrompt" rows="6"
                    class="w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="e.g., 'I want to become a Machine Learning Engineer at a top tech company...'"></textarea>
                <div class="flex justify-end gap-4 mt-6">
                    <button @click="showAIPrompt = false"
                        class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300">Cancel</button>
                    <button @click="submitAIPrompt()"
                        class="px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700">Generate My
                        Roadmap</button>
                </div>
            </div>
        </div>

        <!-- LeetCode Problem Detail Modal -->
        <div x-show="selectedProblem" x-cloak class="fixed inset-0 bg-black/50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full">
                <div class="p-6">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="text-2xl font-bold" x-text="selectedProblem.name"></h3>
                            <span
                                :class="{ 'bg-green-200': selectedProblem.difficulty === 'Easy', 'bg-yellow-200': selectedProblem.difficulty === 'Medium', 'bg-red-200': selectedProblem.difficulty === 'Hard' }"
                                class="px-2 py-1 rounded-full text-xs" x-text="selectedProblem.difficulty"></span>
                        </div>
                        <button @click="selectedProblem = null" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <p class="text-gray-600 mt-4" x-text="selectedProblem.description"></p>
                    <div class="flex gap-4 mt-4">
                        <a :href="selectedProblem.leetcode_url" target="_blank" class="text-blue-600 hover:underline">
                            <i class="fas fa-link mr-1"></i>LeetCode
                        </a>
                        <a :href="selectedProblem.neetcode_url" target="_blank" class="text-blue-600 hover:underline">
                            <i class="fas fa-link mr-1"></i>NeetCode
                        </a>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-lg mt-4">
                        <h4 class="font-semibold text-blue-800"><i class="fas fa-robot mr-2"></i>AI Prompt</h4>
                        <p class="text-blue-700" x-text="selectedProblem.ai_prompt"></p>
                    </div>
                </div>
            </div>
        </div>
    </body>

</html>